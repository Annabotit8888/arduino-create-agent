{"swagger":"2.0","info":{"title":"Arduino Create Agent","description":"A bridge from the user's computer and the Create platform","version":""},"host":"localhost:9000","basePath":"/","schemes":["http"],"consumes":["application/json"],"produces":["application/json"],"paths":{"/":{"get":{"tags":["commands_v1"],"summary":"list commands_v1","description":"List the commands that the arduino-create-agent can perform on the machine","operationId":"commands_v1#list","produces":["application/vnd.arduino.agent.command+json; type=collection"],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ArduinoAgentCommandCollection"}}},"schemes":["http"]}},"/v1/connect":{"get":{"tags":["connect_v1"],"summary":"websocket connect_v1","description":"Opens a websocket connection to the device, allowing to read/write","operationId":"connect_v1#websocket","parameters":[{"name":"baud","in":"query","description":"The speed of the connection. Defaults to 9600","required":true,"type":"integer","default":9600},{"name":"port","in":"query","description":"The port where the device resides","required":true,"type":"string"}],"responses":{"101":{"description":"Switching Protocols"},"400":{"description":"Bad Request"}},"schemes":["ws"]}},"/v1/discover":{"get":{"tags":["discover_v1"],"summary":"list discover_v1","description":"Returns a list of devices connected to the PC","operationId":"discover_v1#list","produces":["application/vnd.arduino.agent.discover+json"],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ArduinoAgentDiscover"}}},"schemes":["http"]}},"/v1/manage/info":{"get":{"tags":["manage_v1"],"summary":"info manage_v1","description":"Returns the info about the agent","operationId":"manage_v1#info","produces":["application/vnd.arduino.agent.manage.info+json"],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ArduinoAgentManageInfo"}}},"schemes":["http"]}},"/v1/manage/pause":{"post":{"tags":["manage_v1"],"summary":"pause manage_v1","description":"Restarts the agent in hibernation mode","operationId":"manage_v1#pause","produces":["text/plain"],"responses":{"200":{"description":"OK"}},"schemes":["http"]}},"/v1/manage/update":{"post":{"tags":["manage_v1"],"summary":"update manage_v1","description":"Search for a new version, updates and restarts itself","operationId":"manage_v1#update","produces":["text/plain"],"responses":{"200":{"description":"OK"}},"schemes":["http"]}},"/v1/tools/":{"get":{"tags":["tools_v1"],"summary":"list tools_v1","description":"Show the installed tools","operationId":"tools_v1#list","produces":["application/vnd.arduino.agent.tools.tool+json; type=collection"],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ArduinoAgentToolsToolCollection"}}},"schemes":["http"]},"post":{"tags":["tools_v1"],"summary":"download tools_v1","description":"Downloads a tool in the system","operationId":"tools_v1#download","produces":["application/vnd.arduino.agent.tools.tool+json"],"parameters":[{"name":"payload","in":"body","required":true,"schema":{"$ref":"#/definitions/tool.download"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ArduinoAgentToolsTool"}}},"schemes":["http"]}},"/v1/upload":{"post":{"tags":["upload_v1"],"summary":"serial upload_v1","description":"Performs an upload of a sketch over the serial port","operationId":"upload_v1#serial","parameters":[{"name":"payload","in":"body","description":"The necessary info to upload a sketch over a serial port","required":true,"schema":{"$ref":"#/definitions/upload.serial"}}],"responses":{"202":{"description":"Accepted","headers":{"Location":{"description":"Contains the location of the show resource","type":"string"}}}},"schemes":["http"]}},"/v1/upload/{id}":{"get":{"tags":["upload_v1"],"summary":"show upload_v1","description":"Retrieve the status of a running command","operationId":"upload_v1#show","produces":["application/vnd.arduino.agent.exec+json"],"parameters":[{"name":"id","in":"path","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ArduinoAgentExec"}},"404":{"description":"Not Found"}},"schemes":["http"]}},"/{id}":{"get":{"tags":["commands_v1"],"summary":"show commands_v1","description":"Retrieve the status of a running command","operationId":"commands_v1#show","produces":["application/vnd.arduino.agent.exec+json"],"parameters":[{"name":"id","in":"path","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ArduinoAgentExec"}}},"schemes":["http"]},"post":{"tags":["commands_v1"],"summary":"exec commands_v1","description":"Execute a command. Note that if you want to upload a sketch you'll probably be better off with the upload api. This one is very low-level","operationId":"commands_v1#exec","parameters":[{"name":"id","in":"path","description":"The id of the command","required":true,"type":"string"},{"name":"payload","in":"body","required":true,"schema":{"$ref":"#/definitions/ExecCommandsV1Payload"}}],"responses":{"202":{"description":"Accepted","headers":{"Location":{"description":"Contains the location of the show resource","type":"string"}}}},"schemes":["http"]}}},"definitions":{"ArduinoAgentCommand":{"title":"Mediatype identifier: application/vnd.arduino.agent.command+json; view=default","type":"object","properties":{"id":{"type":"string","description":"A unique identifier for the command","example":"upload:arduino:avr:uno"},"params":{"type":"array","items":{"type":"string","example":"Mollitia aut iusto."},"description":"The command that will be executed","example":["upload.verbose","serial.port","build.path","build.project_name"]},"pattern":{"type":"string","description":"The command that will be executed","example":"\"{runtime.tools.avrdude.path}/bin/avrdude\" \"-C{runtime.tools.avrdude.path}/etc/avrdude.conf\" {upload.verbose}  -patmega328p -carduino -P{serial.port} -b115200 -D \"-Uflash:w:{build.path}/{build.project_name}.hex:i\""}},"description":"A command that the arduino-create-agent can perform on the machine (default view)","example":{"id":"upload:arduino:avr:uno","params":["upload.verbose","serial.port","build.path","build.project_name"],"pattern":"\"{runtime.tools.avrdude.path}/bin/avrdude\" \"-C{runtime.tools.avrdude.path}/etc/avrdude.conf\" {upload.verbose}  -patmega328p -carduino -P{serial.port} -b115200 -D \"-Uflash:w:{build.path}/{build.project_name}.hex:i\""},"required":["id","pattern","params"]},"ArduinoAgentCommandCollection":{"title":"Mediatype identifier: application/vnd.arduino.agent.command+json; type=collection; view=default","type":"array","items":{"$ref":"#/definitions/ArduinoAgentCommand"},"description":"ArduinoAgentCommandCollection is the media type for an array of ArduinoAgentCommand (default view)","example":[{"id":"upload:arduino:avr:uno","params":["upload.verbose","serial.port","build.path","build.project_name"],"pattern":"\"{runtime.tools.avrdude.path}/bin/avrdude\" \"-C{runtime.tools.avrdude.path}/etc/avrdude.conf\" {upload.verbose}  -patmega328p -carduino -P{serial.port} -b115200 -D \"-Uflash:w:{build.path}/{build.project_name}.hex:i\""},{"id":"upload:arduino:avr:uno","params":["upload.verbose","serial.port","build.path","build.project_name"],"pattern":"\"{runtime.tools.avrdude.path}/bin/avrdude\" \"-C{runtime.tools.avrdude.path}/etc/avrdude.conf\" {upload.verbose}  -patmega328p -carduino -P{serial.port} -b115200 -D \"-Uflash:w:{build.path}/{build.project_name}.hex:i\""},{"id":"upload:arduino:avr:uno","params":["upload.verbose","serial.port","build.path","build.project_name"],"pattern":"\"{runtime.tools.avrdude.path}/bin/avrdude\" \"-C{runtime.tools.avrdude.path}/etc/avrdude.conf\" {upload.verbose}  -patmega328p -carduino -P{serial.port} -b115200 -D \"-Uflash:w:{build.path}/{build.project_name}.hex:i\""}]},"ArduinoAgentDiscover":{"title":"Mediatype identifier: application/vnd.arduino.agent.discover+json; view=default","type":"object","properties":{"network":{"$ref":"#/definitions/ArduinoAgentDiscoverNetworkCollection"},"serial":{"$ref":"#/definitions/ArduinoAgentDiscoverSerialCollection"}},"description":"ArduinoAgentDiscover media type (default view)","example":{"network":[{"address":"192.168.1.107","info":"board=Arduino Y\\195\\186n Shield distro_version=0.1","name":"MyShield","port":80}],"serial":[{"pid":"0x8036","port":"/dev/ttyACM0","serial":"Consequatur et.","vid":"0x2341"},{"pid":"0x8036","port":"/dev/ttyACM0","serial":"Consequatur et.","vid":"0x2341"}]},"required":["serial","network"]},"ArduinoAgentDiscoverNetwork":{"title":"Mediatype identifier: application/vnd.arduino.agent.discover.network+json; view=default","type":"object","properties":{"address":{"type":"string","description":"IP Address","example":"192.168.1.107"},"info":{"type":"string","description":"Informations about the device","example":"board=Arduino Y\\195\\186n Shield distro_version=0.1"},"name":{"type":"string","description":"The friendly name given to the device","example":"MyShield"},"port":{"type":"integer","description":"IP Port","example":80,"format":"int64"}},"description":"ArduinoAgentDiscoverNetwork media type (default view)","example":{"address":"192.168.1.107","info":"board=Arduino Y\\195\\186n Shield distro_version=0.1","name":"MyShield","port":80},"required":["address","port","info","name"]},"ArduinoAgentDiscoverNetworkCollection":{"title":"Mediatype identifier: application/vnd.arduino.agent.discover.network+json; type=collection; view=default","type":"array","items":{"$ref":"#/definitions/ArduinoAgentDiscoverNetwork"},"description":"ArduinoAgentDiscoverNetworkCollection is the media type for an array of ArduinoAgentDiscoverNetwork (default view)","example":[{"address":"192.168.1.107","info":"board=Arduino Y\\195\\186n Shield distro_version=0.1","name":"MyShield","port":80},{"address":"192.168.1.107","info":"board=Arduino Y\\195\\186n Shield distro_version=0.1","name":"MyShield","port":80}]},"ArduinoAgentDiscoverSerial":{"title":"Mediatype identifier: application/vnd.arduino.agent.discover.serial+json; view=default","type":"object","properties":{"pid":{"type":"string","description":"Vendor ID","example":"0x8036"},"port":{"type":"string","description":"The port through which it's connected","example":"/dev/ttyACM0"},"serial":{"type":"string","description":"The Serial Number","example":"Consequatur et."},"vid":{"type":"string","description":"Vendor ID","example":"0x2341"}},"description":"ArduinoAgentDiscoverSerial media type (default view)","example":{"pid":"0x8036","port":"/dev/ttyACM0","serial":"Consequatur et.","vid":"0x2341"},"required":["vid","pid","port"]},"ArduinoAgentDiscoverSerialCollection":{"title":"Mediatype identifier: application/vnd.arduino.agent.discover.serial+json; type=collection; view=default","type":"array","items":{"$ref":"#/definitions/ArduinoAgentDiscoverSerial"},"description":"ArduinoAgentDiscoverSerialCollection is the media type for an array of ArduinoAgentDiscoverSerial (default view)","example":[{"pid":"0x8036","port":"/dev/ttyACM0","serial":"Consequatur et.","vid":"0x2341"}]},"ArduinoAgentExec":{"title":"Mediatype identifier: application/vnd.arduino.agent.exec+json; view=default","type":"object","properties":{"status":{"type":"string","description":"The status of the command","example":"done","enum":["pending","done"]},"stderr":{"type":"string","description":"The standard error returned by the command","example":"Incidunt qui sint voluptatem impedit fuga."},"stdout":{"type":"string","description":"The standard output returned by the command","example":"Molestiae nisi enim."}},"description":"The result of the command executed on the machine (default view)","example":{"status":"done","stderr":"Incidunt qui sint voluptatem impedit fuga.","stdout":"Molestiae nisi enim."},"required":["status","stdout","stderr"]},"ArduinoAgentManageInfo":{"title":"Mediatype identifier: application/vnd.arduino.agent.manage.info+json; view=default","type":"object","properties":{"revision":{"type":"string","description":"Revision","example":"4e498c5afc6304b6dc7a74534dbff96015954d48"},"version":{"type":"string","description":"Version","example":"v1.0.0"}},"description":"ArduinoAgentManageInfo media type (default view)","example":{"revision":"4e498c5afc6304b6dc7a74534dbff96015954d48","version":"v1.0.0"},"required":["version","revision"]},"ArduinoAgentToolsTool":{"title":"Mediatype identifier: application/vnd.arduino.agent.tools.tool+json; view=default","type":"object","properties":{"name":{"type":"string","description":"Name of the installed tool","example":"avrdude"},"packager":{"type":"string","description":"Packager of the installed tool","example":"packager"},"path":{"type":"string","description":"Path of the installed tool","example":"~/.arduino/create/avrdude/latest"},"version":{"type":"string","description":"Version of the installed tool","example":"latest"}},"description":"ArduinoAgentToolsTool media type (default view)","example":{"name":"avrdude","packager":"packager","path":"~/.arduino/create/avrdude/latest","version":"latest"},"required":["path","name","version","packager"]},"ArduinoAgentToolsToolCollection":{"title":"Mediatype identifier: application/vnd.arduino.agent.tools.tool+json; type=collection; view=default","type":"array","items":{"$ref":"#/definitions/ArduinoAgentToolsTool"},"description":"ArduinoAgentToolsToolCollection is the media type for an array of ArduinoAgentToolsTool (default view)","example":[{"name":"avrdude","packager":"packager","path":"~/.arduino/create/avrdude/latest","version":"latest"},{"name":"avrdude","packager":"packager","path":"~/.arduino/create/avrdude/latest","version":"latest"}]},"ExecCommandsV1Payload":{"title":"ExecCommandsV1Payload","type":"array","items":{"$ref":"#/definitions/command.param"},"example":[{"name":"serial.port","value":"/dev/ttyACM0"},{"name":"serial.port","value":"/dev/ttyACM0"}]},"command.param":{"title":"command.param","type":"object","properties":{"name":{"type":"string","description":"The name of the param","example":"serial.port"},"value":{"type":"string","description":"The value of the option","example":"/dev/ttyACM0"}},"description":"Option for the command to execute","example":{"name":"serial.port","value":"/dev/ttyACM0"}},"tool.download":{"title":"tool.download","type":"object","properties":{"checksum":{"type":"string","description":"The checksum of the tool to download","example":"SHA-256:71117cce0096dad6c091e2c34eb0b9a3386d3aec7d863d2da733d9e5eac3a6b1"},"name":{"type":"string","description":"Name of the tool","example":"avrdude"},"packager":{"type":"string","description":"Packager of the tool","example":"arduino"},"signature":{"type":"string","description":"The signature of the url of the tool","example":"2d701b4efbc8cec62dc299cde01730c5eebcf23d7e4393db8cf7744a9bf1d3de"},"url":{"type":"string","description":"Url of the tool to download","example":"http://downloads.arduino.cc/tools/avrdude-6.0.1-arduino2-x86_64-pc-linux-gnu.tar.bz2"},"version":{"type":"string","description":"Version of the tool","example":"6.0.1-arduino2"}},"example":{"checksum":"SHA-256:71117cce0096dad6c091e2c34eb0b9a3386d3aec7d863d2da733d9e5eac3a6b1","name":"avrdude","packager":"arduino","signature":"2d701b4efbc8cec62dc299cde01730c5eebcf23d7e4393db8cf7744a9bf1d3de","url":"http://downloads.arduino.cc/tools/avrdude-6.0.1-arduino2-x86_64-pc-linux-gnu.tar.bz2","version":"6.0.1-arduino2"},"required":["packager","name","version","url","checksum","signature"]},"upload.serial":{"title":"upload.serial","type":"object","properties":{"bin":{"type":"string","description":"Base64-encoded binary file","example":"QmFzZTY0IGlzIGEgZ2VuZ..."},"command":{"type":"string","description":"The id of the command to use (See commands#list)","example":"upload:arduino:avr:uno"},"filename":{"type":"string","description":"The name of the binary file","example":"QmFzZTY0IGlzIGEgZ2VuZ..."},"params":{"type":"array","items":{"$ref":"#/definitions/command.param"},"description":"Params","example":[{"name":"serial.port","value":"/dev/ttyACM0"}]},"port":{"type":"string","description":"The serial port","example":"/dev/ttyACM0"}},"description":"The necessary info to upload a sketch over a serial port","example":{"bin":"QmFzZTY0IGlzIGEgZ2VuZ...","command":"upload:arduino:avr:uno","filename":"QmFzZTY0IGlzIGEgZ2VuZ...","params":[{"name":"serial.port","value":"/dev/ttyACM0"}],"port":"/dev/ttyACM0"}}},"responses":{"BadRequest":{"description":"Bad Request"},"NotFound":{"description":"Not Found"},"OK":{"description":"OK"},"SwitchingProtocols":{"description":"Switching Protocols"}}}